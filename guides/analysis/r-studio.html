<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Rstudio Server | SCINet | USDA Scientific Computing Initiative</title>



<meta name="description" content="Using Rstudio">




<link rel="shortcut icon"type="image/ico"
  href="/assets/img/site/favicons/favicon.ico">



<link rel="icon"type="image/png"
  href="/assets/img/site/favicons/favicon.png">



<link rel="icon"type="image/png"
  sizes="192x192"
  href="/assets/img/site/favicons/favicon-192.png">



<link rel="icon"type="image/png"
  sizes="32x32"
  href="/assets/img/site/favicons/favicon-32x32.png">



<link rel="icon"type="image/png"
  sizes="16x16"
  href="/assets/img/site/favicons/favicon-16x16.png">



<link rel="manifest"
  href="/assets/img/site/favicons/site.webmanifest">



<link rel="mask-icon"
  href="/assets/img/site/favicons/safari-pinned-tab.svg">



<link rel="apple-touch-icon"
  sizes="180x180"
  href="/assets/img/site/favicons/apple-touch-icon.png">



<meta name="msapplication-TileColor" content="#2b5797">



<meta name="msapplication-config" content="/assets/img/site/favicons/browserconfig.xml">



<meta name="theme-color" content="#ffffff">




  



<link rel="stylesheet"
  href="/assets/css/style.css"
  media="screen">

  
  


<!-- Digital Analytics Program roll-up, see https://analytics.usa.gov for data -->
<script id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=USDA&subagency=ARS"></script>


  
  <script>0</script>
</head>

<body class="site-90%">

  <a class="usa-skipnav" href="#main-content">Skip to main content</a>

  


  <section class="usa-banner" aria-label="Official government website">
  <div class="usa-accordion">
    <header class="usa-banner__header">
      <div class="usa-banner__inner">
        <div class="grid-col-auto">
          <img class="usa-banner__header-flag" src="/assets/uswds/img/us_flag_small.png" alt="U.S. flag">
        </div>
        <div class="grid-col-fill tablet:grid-col-auto">
          <p class="usa-banner__header-text">An official website of the United States government</p>
          <p class="usa-banner__header-action" aria-hidden="true">Here’s how you know</p>
        </div>
        <button type="button" class="usa-accordion__button usa-banner__button"
          aria-expanded="false" aria-controls="gov-banner">
          <span class="usa-banner__button-text">Here’s how you know</span>
        </button>
      </div>
    </header>
    <div class="usa-banner__content usa-accordion__content" id="gov-banner" hidden="">
      <div class="grid-row grid-gap-lg">
        <div class="usa-banner__guidance tablet:grid-col-6">
          <img class="usa-banner__icon usa-media-block__img" src="/assets/uswds/img/icon-dot-gov.svg" role="img" alt="Dot gov">
          <div class="usa-media-block__body">
            <p>
              <strong>Official websites use .gov</strong>
              <br/>
              A <strong>.gov</strong> website belongs to an official government organization in the United States.
            </p>
          </div>
        </div>
        <div class="usa-banner__guidance tablet:grid-col-6">
          <img class="usa-banner__icon usa-media-block__img" src="/assets/uswds/img/icon-https.svg" role="img" alt="Https">
          <div class="usa-media-block__body">
            <p>
              <strong>Secure .gov websites use HTTPS</strong>
              <br/>
              A <strong>lock</strong> (
<span class="icon-lock"><svg xmlns="http://www.w3.org/2000/svg" width="52" height="64" viewBox="0 0 52 64" class="usa-banner__lock-image" role="img" aria-labelledby="banner-lock-title banner-lock-description"><title id="banner-lock-title">Lock</title><desc id="banner-lock-description">A locked padlock</desc><path fill="#000000" fill-rule="evenodd" d="M26 0c10.493 0 19 8.507 19 19v9h3a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V32a4 4 0 0 1 4-4h3v-9C7 8.507 15.507 0 26 0zm0 8c-5.979 0-10.843 4.77-10.996 10.712L15 19v9h22v-9c0-6.075-4.925-11-11-11z"/></svg></span>
) or <strong>https://</strong> means you’ve safely connected to the .gov website. Share sensitive information only on official, secure websites.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>




<div class="usa-overlay"></div>
<header class="usa-header usa-header--extended sci-heading" role="banner">

  <div class="usa-navbar">
      
<div class="usa-logo">
    
    <span class="agency-logo display-flex flex-align-center mobile-lg:margin-right-1">
        
        <a href="/">
            <img class="usa-logo-img"
                src="/assets/img/site/usda-logo-color.svg"
                alt="USDA">
        </a>
        
    </span>
    
    <a class="agency-logo-text"
        href="/"
        aria-label="SCINet Scientific Computing">
        <div class="agency-identity">
            <div class="agency-name usa-logo__text">SCINet Scientific Computing</div>
            
            <div class="tagline">U.S. Department of Agriculture</div>
            
        </div>
    </a>
</div>
    <button type="button" class="usa-menu-btn">Menu</button>
  </div>

  <nav aria-label="Primary navigation" class="usa-nav border-bottom-2px">
    <div class="usa-nav__inner">
      <button type="button" class="usa-nav__close">
        <img src="/assets/uswds/img/usa-icons/close.svg" alt="close">
      </button>
      
      
      
      <ul class="usa-nav__primary usa-accordion">
        
        <li class="usa-nav__primary-item">
          
          <a class=" usa-nav__link  "
            href="/">
            <span>Home</span>
          </a>
          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-About">
            <span>About</span>
          </button>

          
          

<ul id="nav-About" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/about/signup"><span>Sign up for an account</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/about/compute"><span>Computer Systems</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/about/organization"><span>Organization</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/about/vrsc"><span>Virtual Research Support Core (VSRC)</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/about/policies"><span>Policies</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/about/contact"><span>Contact</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-News">
            <span>News</span>
          </button>

          
          

<ul id="nav-News" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/news/downtime/"><span>System Downtime</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/news/announcements"><span>Announcements</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/news/stories"><span>User Stories</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/news/newsletter"><span>Newsletter</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/news/scinet-x"><span>SCINet-X</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-User Guides">
            <span>User Guides</span>
          </button>

          
          

<ul id="nav-User Guides" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/guides/start"><span>Quick Start</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/guides/"><span>All User Guides</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-Research">
            <span>Research</span>
          </button>

          
          

<ul id="nav-Research" class="usa-nav__submenu nav-width-2" hidden="">
    <div class="grid-row grid-gap-4">
        
            
            
            
        <li class="usa-nav__submenu-item desktop:grid-col-6 m-top-0">
            

                    
                    
                    <div class="">
                        <a href="/research/working-groups/">
                            Working Groups
                        </a>
                    </div>

                    <ul id="nav-ResearchWorking Groups" class="sublist">


                        

                            <li>
                                <a class="sublinks" href="/research/working-groups/ag100pest">
                                    Ag100Pest
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/research/working-groups/arthropods">
                                    Arthropod Genomics
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/research/working-groups/fungalbioinformatics">
                                    Fungal Bioinformatics
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/research/working-groups/geospatial">
                                    Geospatial Research
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/research/working-groups/microbiome">
                                    Microbiome
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/research/working-groups/LTARphenology">
                                    LTAR Phenology
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/research/working-groups/pollinator">
                                    Pollinator
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/research/working-groups/proteinfunction">
                                    Protein Function and Phenotype Prediction
                                </a>
                            </li>

                        
                    </ul>
                </li>
            
        
            
            
            
        <li class="usa-nav__submenu-item desktop:grid-col-6 m-top-0">
            

                    
                    
                    <div class="">
                        <a href="/research/uses/">
                            Use Cases
                        </a>
                    </div>

                    <ul id="nav-ResearchUse Cases" class="sublist">


                        

                            <li>
                                <a class="sublinks" href="/research/uses/genomics">
                                    Genomics
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/research/uses/plant-breeding">
                                    Plant breeding
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/research/uses/geospatial">
                                    Geospatial
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/research/uses/hydrology">
                                    Hydrology
                                </a>
                            </li>

                        
                    </ul>
                </li>
            
        
    </div>
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-Trainings and Events">
            <span>Trainings and Events</span>
          </button>

          
          

<ul id="nav-Trainings and Events" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/training/resources"><span>Learning Resources</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/training/events/"><span>Upcoming Events</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/training/learningpath"><span>Learning Pathway</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-Support">
            <span>Support</span>
          </button>

          
          

<ul id="nav-Support" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/support/contact"><span>Contact the VRSC</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/support/faq"><span>FAQs</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="https://forum.scinet.usda.gov"><span>USDA-ARS SCINet Forum</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/support/request"><span>Request Resources</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/support/ceres-job-script"><span>Ceres Job Script Generator</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-Opportunities">
            <span>Opportunities</span>
          </button>

          
          

<ul id="nav-Opportunities" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/opportunities/SAC"><span>SAC Membership</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/opportunities/request-workshop"><span>Request a Workshop</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/opportunities/fellowships"><span>Fellowships (PhD & MS)</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/opportunities/ai-innovation/"><span>AI Innovation Fund</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/opportunities/scinet-aicoe-fellowships"><span>SCINet and AI-COE fellowship proposals</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        


      </ul>
      

    </div>

    
    <div class="usa-nav__secondary">
      
      
        <form accept-charset="UTF-8" action="https://search.usa.gov/search" id="search_form" method="get"
class="usa-search usa-search--small js-search-form">
<input name="utf8" type="hidden" value="&#x2713;" />
<input type="hidden" name="affiliate" id="affiliate" value="scinet-usda" />
<div role="search">
  <label for="query" class="usa-sr-only">Enter search terms</label>
  <input autocomplete="off" class="usa-input usagov-search-autocomplete" id="query" name="query"
    type="search" />
  <button class="usa-button" type="submit" name="commit">
    <img src="/assets/uswds/img/usa-icons-bg/search--white.svg"
      class="usa-search__submit-icon" alt="Search" />
  </button>
</div>
</form>

      
    </div>


    </div>
    </div>
  </nav>

</header>



  

    
    


    

    

    

    
    
    




    
    


    <div class="grid-container main-side">


  


  

  







<div class="grid-row grid-gap flex-align-start">
    <div class="usa-layout-docs__sidenav desktop:grid-col-3 desktop:padding-y-10 usa-sticky-sidenav">
        <nav aria-label="Secondary navigation">
  <ul class="usa-sidenav">

    
    





<li class="usa-sidenav__item">
    <a href="/guides/start" 
        >
        Quick Start
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/guides/" 
        >
        All User Guides
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/guides/analysis" 
         
        class=" guide-nav " 
        >
        SCINet Analysis
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/guides/analysis/clc-workbench" 
        >
        CLC Server
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/guides/analysis/galaxy" 
        >
        Galaxy on SCINet
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/guides/analysis/geneious" 
        >
        Geneious Software Guide
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/guides/analysis/r-perl-python" 
        >
        Guide to Installing R, Python, and Perl Packages
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/guides/analysis/r-studio" 
         
        class="usa-current " 
        >
        Rstudio Server
    </a>
    
    
    <ul class="usa-sidenav__sublist">
        
            








<li>
  <a href="
    #scinet-options-for-rstudio
  " class="">SCINet Options for RStudio</a>
  
  
  
</li>










<li>
  <a href="
    #rstudio-server-on-ceres
  " class="">RStudio Server on Ceres</a>
  
  
  
</li>










<li>
  <a href="
    #rstudio-server-in-open-ondemand
  " class="">RStudio Server in Open OnDemand</a>
  
  
  
</li>










<li>
  <a href="
    #rstudio-server-through-vpn-or-ssh-tunnel
  " class="">RStudio Server through VPN or ssh tunnel</a>
  
  
  <ul class="usa-sidenav__sublist">
    








<li>
  <a href="
    #starting-rstudio-server
  " class="">Starting RStudio Server</a>
  
  
  
</li>










<li>
  <a href="
    #using-vpn
  " class="">Using VPN</a>
  
  
  
</li>










<li>
  <a href="
    #ssh-port-forwarding-instead-of-vpn
  " class="">SSH Port Forwarding (instead of VPN)</a>
  
  
  
</li>


  </ul>
  
  
</li>










<li>
  <a href="
    #stopping-rstudio-server
  " class="">Stopping RStudio Server</a>
  
  
  
</li>










<li>
  <a href="
    #requesting-additional-compute-resources
  " class="">Requesting Additional Compute Resources</a>
  
  
  
</li>


        
        
    </ul>
    
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/guides/analysis/smrtlink" 
        >
        SMRTLink/SMRTAnalysis using Command Line
    </a>
    
</li>
    

  </ul>
</nav>
    </div>
    
    <div class="usa-layout-docs__main desktop:grid-col-9">
        <nav class="usa-breadcrumb usa-breadcrumb--wrap" aria-label="Breadcrumbs">
  <ol class="usa-breadcrumb__list">
    
    


<li class="usa-breadcrumb__list-item">
  <a href="/" class="usa-breadcrumb__link">
    <span>SCINet Home</span>
  </a>
</li>

    
      


<li class="usa-breadcrumb__list-item">
  <a href="/guides" class="usa-breadcrumb__link">
    <span>All User Guides</span>
  </a>
</li>
    

    
      
      
        
          
          


<li class="usa-breadcrumb__list-item">
  <a href="/guides/analysis" class="usa-breadcrumb__link">
    <span>SCINet Analysis</span>
  </a>
</li>
        
      
    


    <li class="usa-breadcrumb__list-item usa-current" aria-current="page">
      <span>Rstudio Server</span>
    </li>
  </ol>
</nav>
        <main class="usa-layout-docs usa-layout-docs__main usa-prose" id="main-content">

          
  
      <h1 class="top-header">Rstudio Server</h1>
  
  

  

  

  <p><a href="https://www.rstudio.com/products/rstudio/">RStudio</a> is an integrated development environment (IDE) for the R programming language, with limited support for other programming languages (including Python, bash, and SQL).<!--excerpt--> RStudio provides a powerful graphical environment for <a href="https://support.rstudio.com/hc/en-us/articles/218611977-Importing-Data-with-RStudio">importing data in a number of formats</a> (including CSV, Excel spreadsheets, SAS, and SPSS); manipulating, analyzing, and visualizing data; version control with git or SVN; a graphical R package manager that provides point/click search/installation/uninstallation of R packages from its substantial ecosystem (including the Bioconductor repository, which provides almost 1500 software tools “for the analysis and comprehension of high-throughput genomic data.”); and <a href="https://www.rstudio.com/products/rstudio/features/">many other features</a>.</p>

<p>RStudio Server is a client/server version of RStudio that runs on a remote server and is accessed via the client’s web browser. A graphical file manager allows file upload/download from Ceres via web browser.</p>

<h2 id="scinet-options-for-rstudio">SCINet Options for RStudio</h2>

<p>SCINet users can use RStudio in one of the following ways:</p>
<ol>
  <li>To run RStudio and access data on your local workstation, download the open source RStudio Desktop.</li>
  <li>To run an RStudio Server virtual machine on and access data in Amazon Web Services, contact the SCINet VRSC.</li>
  <li><strong>NEW</strong>: RStudio Server on Ceres in Open OnDemand.</li>
  <li>RStudio Server on Ceres through SCINet VPN or via ssh-tunnel.</li>
</ol>

<h2 id="rstudio-server-on-ceres">RStudio Server on Ceres</h2>
<p>RStudio Server is currently available on Ceres using a Docker image (imported into Singularity) provided by the Rocker project. The provided geospatial image provides not only geospatial libraries, but also LaTeX / publishing libraries, and Tidyverse data science libraries. Other R packages can be easily installed into your home directory from within RStudio.</p>

<p>Running RStudio Server on Ceres allows SCINet users to access any data on Ceres that they can access from the command line (SSH).</p>

<p>Users can either run RStudio Server in Open OnDemand or by manually submiting a SLURM job script and connecting to the server through SCINet VPN or via ssh-tunnel. The first method (via Open OnDemand) is much easier-to-use and is recommended over the second method.</p>

<p>A few Ceres-specific notes:</p>
<ol>
  <li><strong>RStudio terminal</strong> (bash command shell): since RStudio Server is running in a container with a Debian base image, you won’t be able to access software environment modules (e.g., that you would normally see when logging into Ceres and issuing the  <code class="language-plaintext highlighter-rouge">module list</code>  command), as those are installed on the (CentOS) host.</li>
  <li><strong>Data access:</strong> your home directory is mounted inside the RStudio Server container, and the VRSC has configured Singularity to mount the /project directory.  $TMPDIR (which on a compute node is per-job local scratch on the compute node’s direct attached storage that gets deleted at the end of SLURM job) is mounted inside the container at /tmp.</li>
  <li><strong>Software installation:</strong> The provided SLURM job script creates a ~/.Renviron file in your home directory that allows RStudio to install additional R packages into your home directory (the container image is immutable). Installing a lot of R libraries may contribute to the default 5G soft limit quota on your home directory being surpassed. To overcome this issue you can move R directory from your home directory to your project directory and create a symbolic link to the new location. In RStudio click on “Terminal” and enter the following commands substituting your values:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd
mkdir /project/&lt;your_project_dir&gt;/&lt;account_name&gt;
mv R /project/&lt;your_project_dir&gt;/&lt;account_name&gt;/
chgrp -R proj-&lt;your_project_dir&gt; /project/&lt;your_project_dir&gt;/&lt;account_name&gt;/R
chmod -R g+s /project/&lt;your_project_dir&gt;/&lt;account_name&gt;/R
ln -s /project/&lt;your_project_dir&gt;/&lt;account_name&gt;/R R
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">mv</code> and <code class="language-plaintext highlighter-rouge">chgrp</code> commands may take longer time depending on how much data you have in the R directory. You will need to restart R for this new location to take effect. In the “console” window type <code class="language-plaintext highlighter-rouge">quit()</code> and click on “Start New Session”.</p>

<ol>
  <li><strong>Default working directory:</strong> By default RStudio sets working directory to your home directory. You can change the default by clicking on Tools -&gt; Global Options… In the General tab click on Browse, then on the three dots on the right and enter path to the folder, e.g. /project/<your_project_dir>. You can then navigate further to a subdirectory. When done click on "Choose" button, and then on "OK". This will be the default working directory that will show in the panel on the right next time you start RStudio or restart R in the RStudio.</your_project_dir></li>
</ol>

<h2 id="rstudio-server-in-open-ondemand">RStudio Server in Open OnDemand</h2>

<p>In your browser go to <a href="https://ceres-ood.scinet.usda.gov/">https://ceres-ood.scinet.usda.gov/</a>, enter your SCINet user name and SCINet password, followed by the GA code. See <a href="/guides/access/mfa/">MFA Guide</a> for more information about GA codes.</p>

<p>After logging into Open OnDemand, click on “Interactive Apps” in the menu on the top and select “RStudio Server: Ceres”.</p>

<p>Modify default values if needed and click on the “Launch” button at the bottom of the page. It may take up to several minutes for the new session to start. Once it starts a new button “Connect to RStudio Server” will appear. Clicking on the button will open RStudio IDE in a new browser tab. When done using RStudio, return to the previous tab to stop the RStudio session by clicking on the red “Delete” button.</p>

<p>Note that while the RStudio session is running you can connect and disconnect to/from the RStudio Server multiple times. Every click on the “Connect to RStudio Server” button will open a new browser tab.</p>

<p>Also note that once you click on the “Launch” button and a new session starts, requested resources will be allocated to your job and won’t be available to other users even if you don’t run anything in the RStudio. Please be considerate, request only resources that you need for your tasks and remember to delete the session when done.</p>

<p>For tips and tricks refer to the <a href="#rstudio-server-on-ceres">previous section</a> and to the RStudio Tutorial at <a href="https://www.dataquest.io/blog/tutorial-getting-started-with-r-and-rstudio/#tve-jump-173bb2584fe">https://www.dataquest.io/blog/tutorial-getting-started-with-r-and-rstudio/#tve-jump-173bb2584fe</a>.</p>

<h2 id="rstudio-server-through-vpn-or-ssh-tunnel">RStudio Server through VPN or ssh tunnel</h2>

<p>To use RStudio Server on Ceres, a user submits a SLURM job script. A default job script that should suffice for most users is provided.</p>

<p>After a user is done using RStudio Server, they should save their work in RStudio, and then stop RStudio Server by cancelling the job with the slurm  <code class="language-plaintext highlighter-rouge">scancel</code>  command.</p>

<h3 id="starting-rstudio-server">Starting RStudio Server</h3>

<p>The instructions below tell to use RStudio version 3.6.0 . To see other versions available on Ceres issue:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ls -l /reference/containers/RStudio/
</code></pre></div></div>

<p>If you wish to use a different version, replace 3.6.0 below with the version number you choose.</p>

<ol>
  <li>
    <p>(If using VPN) Connect to SCINet VPN (see video instructions): <br />
<a href="/guides/access/vpn#openconnect-vpn">VPN Using the OpenConnect Client</a><br />
<a href="/guides/access/vpn#anyconnect-vpn">VPN Using the Cisco AnyConnect Client</a></p>
  </li>
  <li>
    <p>Log into Ceres via SSH (see the <a href="/guides/start">Quick Start Guide</a> for instructions).</p>
  </li>
  <li>Submit the RStudio SLURM job script with the following command:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbatch /reference/containers/RStudio/3.6.0/rstudio.job
</code></pre></div>    </div>
    <p><em>(Optional)</em> By default, this SLURM job is limited to a 4 hour time limit, 1 processor core, and 6600 MB memory. To customize, see the section <a href="#requesting-additional-compute-resources">Requesting Additional Compute Resources</a> below.</p>
  </li>
  <li>After the job has started, view the “$HOME/rstudio-JOBID.out” file for login information (where JOBID is the SLURM job ID reported by the sbatch command). Here is an example of such a file. Your file will have different job number, user name, password, compute node name and port number.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[jane.user@sn-cn-8-1 ~]$ sbatch /reference/containers/RStudio/3.6.0/rstudio.job
Submitted batch job 214664

[jane.user@sn-cn-8-1 ~]$ cat ~/rstudio-214664.out
VPN Users:

1. Connect to SCINet VPN and point your web browser to http://ceres14-compute-3-eth.scinet.local:44200

2. log in to RStudio Server using the following credentials:

   user: jane.user
   password: 4wjRJfpIvQDtKdDZpmzY

SSH users:

1. SSH tunnel from your workstation using the following command (macOS or Linux only;
   for how to enter this in PuTTY on Windows see the Ceres RStudio User Guide)

   ssh -N -L 8787:ceres14-compute-3-eth.scinet.local:44200 jane.user@ceres.scinet.usda.gov

   and point your web browser to http://localhost:8787

2. log in to RStudio Server using the following credentials:

   user: jane.user
   password: 4wjRJfpIvQDtKdDZpmzY

When done using RStudio Server, terminate the job by:

1. Exit the RStudio Session ("power" button in the top right corner of the RStudio window)
2. On the Ceres command line, issue the command

   scancel -f 214664
</code></pre></div>    </div>
  </li>
  <li>Instructions for this step differ for when you use SCINet VPN or SSH Port Forwarding.</li>
</ol>

<h4 id="using-vpn">Using VPN</h4>

<p><em>If using VPN</em> point your web browser to the listed hostname / port (in the example above, http://ceres14-compute-3-eth.scinet.local:44200), then enter your SCINet user name and the temporary password (valid only for this job only; in this example <em>4wjRJfpIvQDtKdDZpmzY</em>)
<img src="/assets/img/guides/analysis/rstudio/RStudio.png" alt="screenshot of signing into RStudio in a web browser" /></p>

<h4 id="ssh-port-forwarding-instead-of-vpn">SSH Port Forwarding (instead of VPN)</h4>

<p><em>Note</em> Before performing the instructions below, first read and follow the instructions in <a href="#starting-rstudio-server">steps 2-4</a>.</p>

<h5 id="windows--putty-users">Windows + PuTTY users</h5>

<ol>
  <li>Open a <strong>new</strong> PuTTY window</li>
  <li>In Session &gt; Host Name, enter: <strong>ceres.scinet.usda.gov</strong></li>
  <li>In the category: Connection &gt; SSH &gt; Tunnels, enter 8787 in Source Port, the Destination hostname:port listed in the job script output (in this example: <strong>ceres14-compute-3-eth:44200</strong>), click “Add”, then click “Open”.
<img src="/assets/img/guides/analysis/rstudio/putty-annotated.png" alt="screenshot of PuTTY software Connection-SSH-Tunnels screen" /></li>
  <li>Point your browser to http://localhost:8787. Enter your SCINet user name, and one-time password listed in the job script output file.</li>
</ol>

<h5 id="macos--linux--windows--windows-powershell-users">macOS / Linux / Windows + Windows PowerShell users</h5>

<ol>
  <li>Open a <strong>new</strong> macOS/Linux terminal window or a <strong>new</strong> Windows PowerShell window and enter the SSH command listed in the job script output file. In this example:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh -N -L 8787:ceres14-compute-3-eth.scinet.local:44200 jane.user@ceres.scinet.usda.gov
</code></pre></div>    </div>
    <p>There will be no output after logging in. Keep the window / SSH tunnel open for the duration of the RStudio session.</p>
  </li>
  <li>Point your browser to http://localhost:8787. Enter your SCINet user name, and one-time password listed in the job script output file.</li>
</ol>

<h3 id="stopping-rstudio-server">Stopping RStudio Server</h3>

<ol>
  <li>Click the Quit Session (“power”) button in the top-right corner of the RStudio window (see picture below), or select “File &gt; Quit Session…”
<img src="/assets/img/guides/analysis/rstudio/RStudio2.PNG" alt="screenshot of the Quit Session power button in RStudio" /></li>
  <li>After the “R Session has Ended” window appears, cancel the SLURM job from the Ceres command line. E.g., if the job ID is 214664:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[jane.user@sn-cn-8-1 ~]$ scancel -f 214664
</code></pre></div>    </div>
    <p><em>Be sure to specify the</em>  <code class="language-plaintext highlighter-rouge">scancel -f</code>  /  <code class="language-plaintext highlighter-rouge">--full</code>  <em>option as demonstrated above.</em></p>
  </li>
  <li>(If using SSH Port Forwarding instead of VPN) Close the terminal / PuTTY window in which the SSH tunnel was established.</li>
</ol>

<h3 id="requesting-additional-compute-resources">Requesting Additional Compute Resources</h3>

<p>The default job resources (4 hour time limit, 1 processor core, 6600 MB memory) may be customized by:</p>
<ul>
  <li>sbatch command-line options, e.g., to specify an 8-hour wall time limit, 16 G memory, and 2 processor cores (= 4 hardware threads):
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbatch --time=08:00:00 --mem=16G --cpus-per-task=4 /reference/containers/RStudio/3.6.0/rstudio.job
</code></pre></div>    </div>
  </li>
  <li>Copying the job script to a directory one has write access to and modifying the appropriate SLURM #SBATCH directives.</li>
  <li>Using the <a href="/support/ceres-job-script">Ceres Job Script Generator</a> to create a new job RStudio Server job script
    <ul>
      <li>In the <strong>Job Script Template</strong> drop down menu, select RStudio Server</li>
    </ul>
  </li>
</ul>


  

  

  <br>

  


        <br>
    </main>
  </div>
</div>
</div>


    <br>

    

  

  


    
<footer class="usa-footer usa-footer--big">

  
  <div class="grid-container">
    <p>Last updated: May 19, 2023 at 11:18 AM</p>
  </div>
  

  
  <div class="grid-container usa-footer__return-to-top">
    <a href="#">Return to top</a>
  </div>
  

  
  

  <div class="usa-footer__primary-section">
    <div class="grid-container">
          <nav class="usa-footer__nav" aria-label="Footer navigation">
            <div class="grid-row grid-gap-4">
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-3">
                <section class="
                usa-footer__primary-content
                usa-footer__primary-content--collapsible
              ">
              <h4 class="usa-footer__primary-link">ABOUT</h4>
              <ul class="usa-list usa-list--unstyled">
                <li>
                <p>SCINet is a USDA <a href='https://www.ars.usda.gov/'>Agricultural Research Service</a> initiative.</p>
                <a class="usa-button" href="/about/organization">Learn More</a>
                </li>
              </ul>
                </section>
                </div>
              
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-3">
                
                <section class="
                    usa-footer__primary-content
                    usa-footer__primary-content--collapsible
                  ">
                  <h4 class="usa-footer__primary-link">RESOURCES</h4>

                  <ul class="usa-list usa-list--unstyled">
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="mailto:scinet_vrsc@usda.gov">
                        Feedback
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="/about/signup">
                        Sign Up
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="/about/contact">
                        Contact
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="/opportunities/fellowships">
                        Fellowships
                      </a>
                    </li>
                    
                  </ul>
                  
              </div>
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-3">
                
                <section class="
                    usa-footer__primary-content
                    usa-footer__primary-content--collapsible
                  ">
                  <h4 class="usa-footer__primary-link">USDA</h4>

                  <ul class="usa-list usa-list--unstyled">
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://ask.usda.gov/">
                        AskUSDA
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://usda.gov/">
                        USDA.gov
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://www.usa.gov">
                        USA.gov
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://www.whitehouse.gov">
                        WhiteHouse.gov
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://usda.gov/plain-writing">
                        Plain Writing
                      </a>
                    </li>
                    
                  </ul>
                  
              </div>
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-3">
                
                <section class="
                    usa-footer__primary-content
                    usa-footer__primary-content--collapsible
                  ">
                  <h4 class="usa-footer__primary-link">LEGAL</h4>

                  <ul class="usa-list usa-list--unstyled">
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://usda.gov/accessibility-statement">
                        Accessibility Statement
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://usda.gov/non-discrimination-statement">
                        Non-Discrimination Statement
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://usda.gov/privacy-policy">
                        Privacy Policy
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://www.dm.usda.gov/foia/">
                        FOIA
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://www.ocio.usda.gov/policy-directives-records-forms/information-quality-activities">
                        Information Quality
                      </a>
                    </li>
                    
                  </ul>
                  
              </div>
              
            </div>
          </nav>
    </div>
  </div>

  
  <div class="usa-footer__secondary-section">
    <div class="grid-container sci-heading">
      <div class="grid-row grid-gap">
        <div class="usa-footer__logo grid-row mobile-lg:grid-col-6 tablet:grid-gap-2">
          
          
          <div class="mobile-lg:grid-col-auto footer-flex">
          
<div class="usa-logo">
    
    <span class="agency-logo display-flex flex-align-center mobile-lg:margin-right-1">
        
        <a href="/">
            <img class="usa-logo-img"
                src="/assets/img/site/usda-logo-color.svg"
                alt="USDA">
        </a>
        
    </span>
    
    <a class="agency-logo-text"
        href="/"
        aria-label="SCINet Scientific Computing">
        <div class="agency-identity">
            <div class="agency-name usa-logo__text">SCINet Scientific Computing</div>
            
            <div class="tagline">U.S. Department of Agriculture</div>
            
        </div>
    </a>
</div>
          </div>
          


        </div>

        
        <div class="margin-y-auto mobile-lg:grid-col-4 footer-flex">
          
          <div class="usa-footer__social-links grid-row grid-gap-1">
            <div class="grid-col-auto">
              
              <a class="usa-social-link ext-nested" style="padding-right: .25rem;" href="https://twitter.com/USDA_ARS"
              ><img
                class="usa-social-link__icon"
                src="/assets/uswds/img/usa-icons/twitter.svg"
                alt="Twitter"
            /></a>
              
              <a class="usa-social-link ext-nested" style="padding-right: .25rem;" href="mailto:scinet_vrsc@usda.gov"
              ><img
                class="usa-social-link__icon"
                src="/assets/uswds/img/usa-icons/mail.svg"
                alt="Contact VRSC"
            /></a>
              
            </div>
          </div>
          
        </div>
        
        <div class="grid-row mobile-lg:grid-col-2 footer-flex">
        

<small class="flex-align-self-center"><a href="https://github.com/USDA-SCINet/scinet-site/edit/main/sn_collections/_guides/r-studio.md" class="usa-sidenav-edit" target="_blank">Edit this page</a></small>
        </div>
        
      </div>
    </div>
  </div>
  

</footer>



  <!-- dynamically determine scripts needed for this config -->







  
    
      <script src="/assets/uswds/js/uswds.min.js" async></script>
    

  
    
      <script src="/assets/js/vendor/anchor.min.js"></script>
    

  
    
      <script src="/assets/js/main.js"></script>
    

  
    
      <script src="/assets/js/external.js"></script>
    

  
    




<script type="text/javascript">
//<![CDATA[
      var usasearch_config = { siteHandle:"scinet-usda" };

      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src = "https://search.usa.gov/javascripts/remote.loader.js";
      document.getElementsByTagName("head")[0].appendChild(script);

//]]>
</script>






</body>

</html>